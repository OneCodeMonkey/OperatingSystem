# 操作系统原理

分五个部分分开讲：

1.进程

2.线程

3.CPU的任务调度

4.进程的同步

5.死锁。



## 进程

### 1.进程概念

### 2.进程的调度

### 3.进程控制

### 4.进程协作

### 5.进程通信



### 1.进程概念

#### 1.1 进程定义

进程是程序的执行。进程执行必须按照一定的顺序进行。

进程由四部分组成：

- PCB
- 程序体
- 数据区
- 进程栈

[进程组成.png]

进程有几个特征：

- 并发性
- 动态性
- 独立性
- 交互性
- 异步性
- 结构性

`进程`与 `程序` 的区别：

- 进程包括`程序` 和 `数据`两部分
- 进程有生命周期，有创建有销毁，是动态的概念。而`程序`是一个静态的概念，`程序`是相对长久的存在。
- 进程能创建其他进程，而程序不能去创建其他程序
- 进程能描述并发，而程序不能

#### 1.2 进程的状态

- 新建状态
- 运行状态
- 等待状态
- 就续状态
- 终止状态

###### 进程状态切换图

[进程状态切换.png]

[进程状态切换2.png]

#### 1.3 进程控制块 （PCB, Process Control Block）

- Process state
  Program counter
  CPU registers
  CPU scheduling information
  Memory-management information
  Accounting information
  I/O status information

[PCB组成.png]

[进程运行与PCB的交互.png]

###### PCB表

系统会把所有 PCB 记录组织存放在内存的固定区域，这个部分就是系统的 PCB 表。

分为两部分：链表， 索引表

PCB 表的大小决定了系统中最多可以同时存在的进程的个数。这个值反映了系统的**并发度**

[PCB链表队列.png]

[PCB索引表示意.png]

###### 进程队列

[进程队列示意图.png]

- 就续队列是没有优先级的，先进先出
- 当事件 n 发生时，对应的队列移进就续队列。

### 2.进程的调度

#### 2.1 调度的类型

- 高级调度

也称为作业调度或宏观调度

高级调度的时间尺度通常是分钟，小时或天。

- 中级调度

涉及进程在内外存间的交换

从存储器资源管理的角度来看，把进程部分全部换出到外存上，可为当前运行进程的执行提供所需内存空间，将当前进程所需部分换入到内存。指令和数据必须在内存里才能被处理机直接访问。

- 低级调度

也称微观调度

从处理机资源分配角度来看，处理机需要经常选择就续进程或线程进入运行状态

低级调度的时间尺度通常都是毫秒级的

由于低级调度算法使用和频繁，要求在实现上尽可能高效。

#### 2.2 调度的模式

- 非剥夺方式
  - 简单，
  - 开销小
  - 实时性差
- 剥夺方式
  - 优先级原则：
  - 时间片原则：

#### 2.3 调度算法。

进程的调度算法，主要用到六种

- 先到先服务调度（First Common First Serve, FCFS）
- 最短作业优先调度（Shortes-Job-First, SJR）
- 优先级调度（Priority Scheduling）
- 轮转法调度（Round Robin， RR）
- 多级队列调度（multilevel queue-scheduling）
- 多级反馈队列调度（multilevel feedback queue scheduling）

### 3.进程控制

### 4.进程协作

### 5.进程通信



